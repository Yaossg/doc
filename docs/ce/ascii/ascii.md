# ASCII

ASCII（American Standard Code for Information Interchange，美国信息交换标准代码）想必大家都很熟悉了。在远古时期，字符集和编码还没有分的那么开（这也是为什么如今很多人分不清的原因），ASCII 既是字符集，也是编码。

- 作为字符集，它包含了 33 个控制字符和 95 个可打印（printable）字符，对应 0~127 共 128 个码位。
- 作为编码，它使用字节的低七位表示字符的码位，因此 ASCII 编码的字节序列中每个字节都与一个字符对应。

需要注意的是，ASCII 的码位 0~31 是控制字符没错，但不要忘了 127 也是。夹在中间的是可打印字符。

似乎就讲完了？你先别急！

## EBCDIC

> 略读小节：不爱看就跳过吧

ASCII 并非没有竞争者。在那个勃勃生机万物竟发的年代，ASCII 只是众多字符集中的一个。

EBCDIC（Extended Binary Coded Decimal Interchange Code，扩展二进制编码十进制交换代码）是 IBM 推出的一套字符编码，起源于 BCD 码和穿孔卡片（punched cards），在当时也有一定的影响力。但是它最终失败了，销声匿迹于历史的长河之中。

然而它的缺点很明显：拉丁字母不是连续排列的，中间间断了多次，这给使用带来了极大地不便；默认支持的可打印字符较少，且被松散地排列在 0x40 到 0xFF 之间，剩下不连续的空位留给扩展字符，使得扩展与非扩展字符混杂在一起；互不兼容的诸多扩展版本让本就凌乱的标准雪上加霜；混乱的设计更是让与 ASCII 的兼容无从谈起。

>Professor: "So the American government went to IBM to come up with an encryption standard, and they came up with—"
>
>Student: "EBCDIC!"
>
>
>教授：“美国政府造访 IBM，让他们提出一套加密标准，他们提出了——”
>
>学生：“EBCDIC！”
>
>—— the Unix fortune file of 4.3BSD Reno (1990)

最终 ASCII 获胜了，EBCDIC 消失在了历史的长河之中。

## ISO 646 与 GB 1988

ISO 646 是 ASCII 的国际标准版本。但是考虑到不是所有国家都使用美国的标点符号，因此规定了下面这些符号可以被替换为其它的字符。下表列出中日英德的四个变体：（其中中国的标准即 GB 1988）

| ASCII-US | !    | "    | #    | $    | &    | :    | ?    | @    | [    | \    | ]    | ^    | _    | `    | {    | \|   | }    | ~    |
| -------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| CN       | !    | "    | #    | ¥    | &    | :    | ?    | @    | [    | \    | ]    | ^    | _    | `    | {    | \|   | }    | ‾    |
| JP       | !    | "    | #    | $    | &    | :    | ?    | @    | [    | ¥    | ]    | ^    | _    | `    | {    | \|   | }    | ‾    |
| GB       | !    | "    | £    | $    | &    | :    | ?    | @    | [    | \    | ]    | ^    | _    | `    | {    | \|   | }    | ‾    |
| DE       | !    | "    | #    | $    | &    | :    | ?    | §    | Ä    | Ö    | Ü    | ^    | _    | `    | ä    | ö    | ü    | ß    |

不要觉得德国的看上去很魔幻，实际上大部分欧洲国家皆是如此，只是这里不便列出更多。这也揭示了 C 语言的双字符、三字符还有头文件`<iso646.h>`的由来，参见[这里](../../cripplec/text.md)。

*时至今日，你仍然能看到不少日本的计算机的反斜杠被显示为日元符号——不过比起软盘和传真机，这倒也不是不可以接受就是了。*

-----

这种直接修改已分配码位字符的做法似乎确实不妥。好在最后我们逐渐放弃了这种修改 ASCII 的形式，转而选择扩展 ASCII——毕竟 0x80~0xFF 的码位还未分配嘛。这便是下一节的内容。


## 参考资料

- https://en.wikipedia.org/wiki/ASCII
- https://en.wikipedia.org/wiki/EBCDIC
- https://en.wikipedia.org/wiki/ISO/IEC_646
